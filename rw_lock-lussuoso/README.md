## Read-write spinlock
Лабораторная 4. Задача 2

В этой задаче вам предстоит реализовать ```spinlock```, который поддерживает конкурентные чтения. При этом блокировка на запись должна работать как и с обычным ```spinlock```, т.е. должно быть эксклюзивное владение.
Интерфейс приведен в файле ```library.hpp```

Идея алгоритма:
1. Создается атомарная переменная.
2. Внутри атомарной переменной первый младший бит выделяется для флага записи.
3. Остальные биты, начиная со второго, - это счетчик читателей.
4. Для `lockRead` должен соблюдаться инвариант: младший бит не должен быть равен 1.
5. Для `lockWrite` должен соблюдаться инвариант: младший бит должен быть равен 1 + счетчик читателей должен быть равен 0.

В качестве дополнительных источников используйте книгу ```Эффективный и современный С++``` Скотта Майерса. Глава 5 посвящена модели памяти C++ и атомарным операциям.
Еще стоит обратить внимание на книгу ```Современные операционные системы``` Эндрю Таненбаума. Глава 2 посвящена процессам и потокам, есть также обзор на основные примитивы синхронизации. 
## Запуск Сборки и тестов через терминал

```bash
cmake -B build # Генерируем файлы сборки
cmake --build build # Собираем
cd build # Заходим в дерикторию сборки
ctest --output-on-failure # Запуск тестов
```